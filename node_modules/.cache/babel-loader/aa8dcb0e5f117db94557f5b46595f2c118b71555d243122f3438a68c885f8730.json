{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import endpoints from\"../constants/endpoints\";import FallbackSpinner from\"./FallbackSpinner\";import Switch from\"../theme/Switch\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NavBar=()=>{const[data,setData]=useState(null);const[prevScrollPos,setPrevScrollPos]=useState(window.scrollY);const[activeLink,setActiveLink]=useState(\"\");const[isMenuOpen,setIsMenuOpen]=useState(false);const toggleMenu=()=>{setIsMenuOpen(!isMenuOpen);};useEffect(()=>{const fetchData=async()=>{try{const response=await fetch(endpoints.navbar,{method:\"GET\"});const res=await response.json();setData(res);}catch(err){console.error(\"Navbar fetch Error\",err);}};fetchData();},[]);useEffect(()=>{const handleScroll=()=>{const currentScrollPos=window.scrollY;const navbar=document.querySelector(\".navbar\");if(navbar){if(prevScrollPos>currentScrollPos){navbar.style.transform=\"translateY(0%)\";}else{navbar.style.transform=\"translateY(-200%)\";}setPrevScrollPos(currentScrollPos);}const sections=document.querySelectorAll('div[id^=\"/\"]');let activeSection='';for(const section of sections){if(section&&section.getBoundingClientRect){const sectionTop=section.getBoundingClientRect().top+window.scrollY-100;const sectionBottom=sectionTop+section.offsetHeight;const isInViewport=currentScrollPos>=sectionTop&&currentScrollPos<=sectionBottom;if(isInViewport){activeSection=section.id;break;}}}setActiveLink(activeSection);console.log(\"Current section in viewport: \".concat(activeSection));};window.addEventListener(\"scroll\",handleScroll);return()=>window.removeEventListener(\"scroll\",handleScroll);},[prevScrollPos,data,setActiveLink]);const scrollTo=(e,sectionID)=>{e.preventDefault();const section=document.getElementById(sectionID);if(section){section.scrollIntoView({behavior:\"smooth\",block:'start'});setActiveLink(sectionID);}};return data?/*#__PURE__*/_jsxs(\"div\",{className:\"navbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"hamburger\",onClick:toggleMenu,children:[/*#__PURE__*/_jsx(\"span\",{className:\"hamburger-line \".concat(isMenuOpen?'open':'')}),/*#__PURE__*/_jsx(\"span\",{className:\"hamburger-line \".concat(isMenuOpen?'open':'')}),/*#__PURE__*/_jsx(\"span\",{className:\"hamburger-line \".concat(isMenuOpen?'open':'')})]}),/*#__PURE__*/_jsx(\"div\",{className:\"nav-links \".concat(isMenuOpen?'open':''),children:data.sections.map((link,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"nav_items\",children:/*#__PURE__*/_jsx(\"ul\",{children:/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:link.href,className:activeLink===link.href?\"active\":\"\",onClick:e=>{scrollTo(e,link.href);// Close the menu on small screens\nif(window.innerWidth<=768){toggleMenu();}},children:link.title})})},link.title)},index))}),/*#__PURE__*/_jsx(\"div\",{className:\"switch\",style:{position:\"absolute\",right:\"10px\",top:\"1.5px\"},children:/*#__PURE__*/_jsx(Switch,{})})]}):/*#__PURE__*/_jsx(FallbackSpinner,{});};export default NavBar;","map":{"version":3,"names":["React","useState","useEffect","endpoints","FallbackSpinner","Switch","jsx","_jsx","jsxs","_jsxs","NavBar","data","setData","prevScrollPos","setPrevScrollPos","window","scrollY","activeLink","setActiveLink","isMenuOpen","setIsMenuOpen","toggleMenu","fetchData","response","fetch","navbar","method","res","json","err","console","error","handleScroll","currentScrollPos","document","querySelector","style","transform","sections","querySelectorAll","activeSection","section","getBoundingClientRect","sectionTop","top","sectionBottom","offsetHeight","isInViewport","id","log","concat","addEventListener","removeEventListener","scrollTo","e","sectionID","preventDefault","getElementById","scrollIntoView","behavior","block","className","children","onClick","map","link","index","href","innerWidth","title","position","right"],"sources":["/Users/saurabhpatel/sample-portfolio-using-react/src/components/NavigationBar.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport endpoints from \"../constants/endpoints\";\nimport FallbackSpinner from \"./FallbackSpinner\";\nimport Switch from \"../theme/Switch\";\n\nconst NavBar = () => {\n    const [data, setData] = useState(null);\n    const [prevScrollPos, setPrevScrollPos] = useState(window.scrollY);\n    const [activeLink, setActiveLink] = useState(\"\");\n    const [isMenuOpen, setIsMenuOpen] = useState(false);\n\n    const toggleMenu = () => {\n        setIsMenuOpen(!isMenuOpen);\n    };\n\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                const response = await fetch(endpoints.navbar, { method: \"GET\" });\n                const res = await response.json();\n                setData(res);\n            } catch (err) {\n                console.error(\"Navbar fetch Error\", err);\n            }\n        };\n        fetchData();\n    }, []);\n\n    useEffect(() => {\n        const handleScroll = () => {\n            const currentScrollPos = window.scrollY;\n            const navbar = document.querySelector(\".navbar\");\n            if (navbar) {\n                if (prevScrollPos > currentScrollPos) {\n                    navbar.style.transform = \"translateY(0%)\";\n                } else {\n                    navbar.style.transform = \"translateY(-200%)\";\n                }\n                setPrevScrollPos(currentScrollPos);\n            }\n            const sections = document.querySelectorAll('div[id^=\"/\"]');\n            let activeSection = '';\n            for (const section of sections) {\n                if (section && section.getBoundingClientRect) {\n                    const sectionTop = section.getBoundingClientRect().top + window.scrollY - 100;\n                    const sectionBottom = sectionTop + section.offsetHeight;\n                    const isInViewport = currentScrollPos >= sectionTop && currentScrollPos <= sectionBottom;\n                    if (isInViewport) {\n                        activeSection = section.id;\n                        break;\n                    }\n                }\n            }\n            setActiveLink(activeSection);\n            console.log(`Current section in viewport: ${activeSection}`);\n        };\n        window.addEventListener(\"scroll\", handleScroll);\n        return () => window.removeEventListener(\"scroll\", handleScroll);\n    }, [prevScrollPos, data, setActiveLink]);\n\n    const scrollTo = (e, sectionID) => {\n        e.preventDefault();\n        const section = document.getElementById(sectionID);\n        if (section) {\n            section.scrollIntoView({ behavior: \"smooth\", block: 'start' });\n            setActiveLink(sectionID);\n        }\n    };\n\n    return data ? (\n        <div className=\"navbar\">\n            <div className=\"hamburger\" onClick={toggleMenu}>\n                <span className={`hamburger-line ${isMenuOpen ? 'open' : ''}`}></span>\n                <span className={`hamburger-line ${isMenuOpen ? 'open' : ''}`}></span>\n                <span className={`hamburger-line ${isMenuOpen ? 'open' : ''}`}></span>\n            </div>\n            <div className={`nav-links ${isMenuOpen ? 'open' : ''}`}>\n                {data.sections.map((link, index) => (\n                    <div key={index} className=\"nav_items\">\n                        <ul key={link.title}>\n                            <li>\n                                <a\n                                    href={link.href}\n                                    className={activeLink === link.href ? \"active\" : \"\"}\n                                    onClick={(e) => {\n                                        scrollTo(e, link.href);\n                                        // Close the menu on small screens\n                                        if (window.innerWidth <= 768) {\n                                            toggleMenu();\n                                        }\n                                    }}\n                                >\n                                    {link.title}\n                                </a>\n                            </li>\n                        </ul>\n                    </div>\n                ))}\n            </div>\n            <div className=\"switch\"\n                style={{ position: \"absolute\", right: \"10px\", top: \"1.5px\" }}>\n            <Switch />\n            </div>\n        </div>\n    ) : (\n        <FallbackSpinner />\n    );\n};\n\nexport default NavBar;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}